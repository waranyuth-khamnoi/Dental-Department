<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Staff Information - Dental Department</title>
    <link rel="icon" type="image/png" href="/images/Logo.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/staff_info.css">
</head>
<body>

    <header class="header">
        <div class="container header-container">
            <div class="logo-area">
                <div class="logo-icon">
                    <img src="/images/Logo.png" alt="Logo" width="60" height="60">
                </div>
                <div class="logo-text">
                    <h1>โรงพยาบาลดอกคำใต้</h1>
                    <h2>แผนกทันตกรรม</h2>
                </div>
            </div>
           <div class="user-actions">
            <div class="user-profile-display" style="text-align: right; margin-right: 15px; display: inline-block; vertical-align: middle; line-height: 1.2;">
                <div style="font-weight: 600; font-size: 0.9em; color: #333;">
                    <%= user ? user.name : 'Staff' %>
                </div>
                <div style="font-size: 0.75em; color: #666;">
                    <%= user && user.role === '0' ? 'Admin' : 'ทันตแพทย์' %>
                </div>
            </div>

            <button class="icon-btn" title="โปรไฟล์">
                <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg>
            </button>
            <button class="icon-btn" title="ออกจากระบบ">
                <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" y1="12" x2="9" y2="12"></line></svg>
            </button>
        </div>
        </div>
    </header>

    <main class="container content-wrapper">
        <a href="/staff_list" class="back-link">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><polyline points="15 18 9 12 15 6"></polyline></svg>
            กลับสู่หน้าหลัก
        </a>

        <div class="form-container">
            <div class="form-header">ข้อมูลบุคลากร</div>
            <div class="form-card">
                <form>
                    <div class="form-group">
                        <label>รหัสพนักงาน</label>
                        <input type="text" class="input-small" value="<%= staff.staff_id %>" readonly>
                    </div>

                    <div class="form-group">
                        <label>คำนำหน้า</label>
                        <div class="radio-group">
                            <label class="radio-label">
                                <input type="radio" name="title" value="ทพ." <%= staff.title === 'ทพ.' ? 'checked' : '' %>> ทพ.
                            </label>
                            <label class="radio-label">
                                <input type="radio" name="title" value="ทพญ." <%= staff.title === 'ทพญ.' ? 'checked' : '' %>> ทพญ.
                            </label>
                            <label class="radio-label">
                                <input type="radio" name="title" value="ผู้ช่วย" <%= staff.title === 'ผู้ช่วย' ? 'checked' : '' %>> ผู้ช่วย
                            </label>
                            <label class="radio-label">
                                <input type="radio" name="title" value="นาย" <%= staff.title === 'นาย' ? 'checked' : '' %>> นาย
                            </label>
                            <label class="radio-label">
                                <input type="radio" name="title" value="นาง" <%= staff.title === 'นาง' ? 'checked' : '' %>> นาง
                            </label>
                            <label class="radio-label">
                                <input type="radio" name="title" value="นางสาว" <%= staff.title === 'นางสาว' ? 'checked' : '' %>> นางสาว
                            </label>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label>ชื่อ</label>
                            <input type="text" value="<%= staff.name %>">
                        </div>
                        <div class="form-group">
                            <label>นามสกุล</label>
                            <input type="text" value="<%= staff.lastname %>">
                        </div>
                    </div>

                    <div class="form-group">
                        <label>เลขบัตรประชาชน (13 หลัก)</label>
                        <input type="text" value="<%= staff.id_card %>">
                    </div>
                    <div class="form-group">
                        <label>วันเดือนปีเกิด</label>
                        <div class="date-group">
                            <% 
                                let d = staff.bd ? new Date(staff.bd) : new Date();
                                let day = d.getDate();
                                let month = d.getMonth() + 1;
                                let year = d.getFullYear();
                            %>
                            <input type="text" value="<%= day %>" class="input-date">
                            <input type="text" value="<%= month %>" class="input-date">
                            <input type="text" value="<%= year %>" class="input-year">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label>เบอร์โทรศัพท์</label>
                            <input type="text" value="<%= staff.phone %>">
                        </div>
                        <div class="form-group">
                            <label>E-mail</label>
                            <input type="email" value="<%= staff.email %>">
                        </div>
                    </div>

                    <div class="form-group">
                        <label>ตำแหน่ง</label>
                        <input type="text" value="<%= staff.department %>" class="input-full">
                    </div>
                </form>
            </div>
        </div>
    </main>

    <script src="/js/staff_info.js"></script>
</body>
</html>